{"componentChunkName":"component---src-templates-page-js","path":"/parse/errors/","result":{"data":{"page":{"html":"<h1 id=\"errors\" style=\"position:relative;\"><a href=\"#errors\" aria-label=\"errors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Errors</h1>\n<blockquote>\n<p>Important: errors support appeared recently with version 4.5. The coverage is not yet exhaustive. The code, message and properties documented below may change in the near future.</p>\n</blockquote>\n<p>All errors instantiate the <code class=\"language-text\">CsvError</code> class which extends the JavaScript <code class=\"language-text\">Error</code> class. The 2 main properties of an error are:</p>\n<ul>\n<li><code class=\"language-text\">code</code><br>\nIdentify the error type, unique for each error thrown by the parser, see below for the list of error codes.</li>\n<li><code class=\"language-text\">message</code><br>\nA descriptive and sometime verbose error message introduced by a readable version of the code.</li>\n</ul>\n<p>The error is also enriched by multiple contextual properties:</p>\n<ul>\n<li><code class=\"language-text\">column</code> (number|string)<br>\nThe column name if the <code class=\"language-text\">columns</code> options is defined or the field position.</li>\n<li><code class=\"language-text\">empty_lines</code> (number)<br>\nInternal counter of empty lines encountered until this field.</li>\n<li><code class=\"language-text\">header</code> (boolean)<br>\nA boolean indicating if the provided value is a part of the header.</li>\n<li><code class=\"language-text\">index</code> (number)<br>\nThe field position starting at 0.</li>\n<li><code class=\"language-text\">invalid_field_length</code> (number)<br>\nNumber of records with a non uniform length when <a href=\"/parse/options/relax_column_count/\"><code class=\"language-text\">relax_column_count</code></a> is true. It was named <code class=\"language-text\">skipped_lines</code> until version 3.</li>\n<li><code class=\"language-text\">lines</code> (number)<br>\nThe number of lines which have been processed including the current line.</li>\n<li><code class=\"language-text\">quoting</code> (boolean)<br>\nA boolean indicating if the field was surrounded by quotes.</li>\n<li><code class=\"language-text\">records</code> (number)<br>\nThe number of records which have been fully parsed. It was named <code class=\"language-text\">count</code> until version 3.</li>\n</ul>\n<p>Finally, each type of error identified by its code property may include additional properties.</p>\n<h2 id=\"runtime-errors\" style=\"position:relative;\"><a href=\"#runtime-errors\" aria-label=\"runtime errors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Runtime errors</h2>\n<ul>\n<li>code: <code class=\"language-text\">CSV_INVALID_CLOSING_QUOTE</code><br>\nThrown when a quote is found at an unexpected location. The parser can be made tolerant to this error by activating the <code class=\"language-text\">relax_quotes</code> option.</li>\n<li>code: <code class=\"language-text\">CSV_RECORD_INCONSISTENT_FIELDS_LENGTH</code><br>\nThrown when a record don't match the same amount of fields as the previous records. The parser can be made tolerant to the number of fields with the <a href=\"/parse/options/relax_column_count/\"><code class=\"language-text\">relax_column_count</code></a> option. Additional properties include:\n<ul>\n<li><code class=\"language-text\">record</code><br>\nThe invalid encountered record.</li>\n</ul>\n</li>\n<li>code: <code class=\"language-text\">CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH</code><br>\nThrown when a record don't match the same amount of columns. This error is only present when the <a href=\"/parse/options/columns/\"><code class=\"language-text\">columns</code></a> option is active. Additional properties include:\n<ul>\n<li><code class=\"language-text\">record</code><br>\nThe invalid encountered record.</li>\n</ul>\n</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_COLUMN_MAPPING</code><br>\nThrown when the <a href=\"/parse/options/columns/\"><code class=\"language-text\">columns</code></a> option is a function and it does not return an array of header fields as expected.\n<ul>\n<li><code class=\"language-text\">headers</code><br>\nThe invalid headers value returned by the function.</li>\n</ul>\n</li>\n<li>code: <code class=\"language-text\">CSV_MAX_RECORD_SIZE</code><br>\nThrown when a field is longer than the value defined by the <code class=\"language-text\">max_record_size</code> option.</li>\n<li>code: <code class=\"language-text\">CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE</code><br>\nThrown when a field is no longer quoted and that new non-trimable characters are found after the closing quote. Only apply if the <code class=\"language-text\">trim</code> or the <code class=\"language-text\">rtrim</code> options are activated.</li>\n<li>code: <code class=\"language-text\">CSV_QUOTE_NOT_CLOSED</code><br>\nThrown when the parsing of data end while an opening quote is not closed.</li>\n</ul>\n<h2 id=\"api-errors\" style=\"position:relative;\"><a href=\"#api-errors\" aria-label=\"api errors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Errors</h2>\n<ul>\n<li>code: <code class=\"language-text\">CSV_INVALID_ARGUMENT</code><br>\nmessage: <code class=\"language-text\">Invalid argument: got {value} at index {index}</code><br>\nThrown when calling the <code class=\"language-text\">parse</code> exported function with incorrect arguments.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_BOM</code><br>\nmessage: <code class=\"language-text\">Invalid option bom: bom must be true, got {value}</code><br>\nThrown when the cast option is incorrect.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_CAST</code><br>\nmessage: <code class=\"language-text\">Invalid option cast: cast must be true or a function, got {value}</code><br>\nThrown when the cast option is incorrect.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_CAST_DATE</code><br>\nmessage: <code class=\"language-text\">Invalid option cast_date: cast_date must be true or a function, got {value}</code><br>\nThrown when a column definition does not contain the <code class=\"language-text\">name</code> property.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_COLUMN_DEFINITION</code><br>\nmessage: <code class=\"language-text\">Invalid column definition: expect a string or a literal object, got true at position {position}</code><br>\nThrown when a column definition is incorrect.</li>\n<li>code: <code class=\"language-text\">CSV_OPTION_COLUMNS_MISSING_NAME</code><br>\nmessage: <code class=\"language-text\">Option columns missing name: property \"name\" is required at position {position} when column is an object literal</code><br>\nThrown when a column definition is an object without a name property.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_COLUMNS</code><br>\nmessage: <code class=\"language-text\">Invalid option columns: expect an object, a function or true, got {value}</code><br>\nThrown when the column option is incorrect.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_COMMENT</code><br>\nmessage: <code class=\"language-text\">Invalid option comment: comment must be a buffer or a string, got {value</code><br>\nThrown when the comment option is incorrect.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_DELIMITER</code><br>\nmessage: <code class=\"language-text\">Invalid option delimiter: delimiter must be a non empty string or buffer, got {value}</code><br>\nThrown when the delimiter option is incorrect.</li>\n<li>code: <code class=\"language-text\">CSV_INVALID_OPTION_RECORD_DELIMITER</code><br>\nmessage: <code class=\"language-text\">Invalid option `record_delimiter`: value must be a non empty string or buffer or array of string|buffer, got {value}</code><br>\nsince: 5.0.0<br>\nThrown when the record_delimiter option is incorrect.</li>\n</ul>\n<h2 id=\"common-issues\" style=\"position:relative;\"><a href=\"#common-issues\" aria-label=\"common issues permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Common issues</h2>\n<h3 id=\"end-notification\" style=\"position:relative;\"><a href=\"#end-notification\" aria-label=\"end notification permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>End notification</h3>\n<p>Situation:</p>\n<p>You are using the \"finish\" event and you don't have all your records. The \"readable\" event is still being called with a few records left.</p>\n<p>Solution:</p>\n<p>The parser is both a writable and a readable stream. You write data and you read records. Following <a href=\"https://nodejs.org/api/stream.html\">Node.js. stream documentation</a>, the \"finish\" event is from the write API and is emitted when the input source has flushed its data. The \"end\" event is from the read API and is emitted when there is no more data to be consumed from the stream.</p>\n<p>Issue: <a href=\"https://github.com/adaltas/node-csv-parse/issues/204\">https://github.com/adaltas/node-csv-parse/issues/204</a></p>","frontmatter":{"title":"Errors","description":"Commons errors encountered while using the CSV parser","keywords":["csv","parse","error","mistake"]},"headings":[{"id":"runtime-errors","depth":2,"value":"Runtime errors"},{"id":"api-errors","depth":2,"value":"API Errors"},{"id":"common-issues","depth":2,"value":"Common issues"}],"fields":{"edit_url":"https://github.com/adaltas/node-csv-docs/edit/master/src/md/parse/errors.md","slug":"/parse/errors/"}}},"pageContext":{}},"staticQueryHashes":["421902736"],"slicesMap":{}}